# =============================================================================
# Uncrustify Configuration for Objective-C
# =============================================================================
# This configuration is derived from the SwiftFormat config to maintain
# consistent code style across Swift and Objective-C files.
# =============================================================================

# -----------------------------------------------------------------------------
# General Options
# -----------------------------------------------------------------------------

# Newline character type (matches --linebreaks lf)
newlines                        = lf

# -----------------------------------------------------------------------------
# Indentation (matches --indent 2)
# -----------------------------------------------------------------------------

# Number of spaces for indentation
indent_columns                  = 2

# Use spaces instead of tabs
indent_with_tabs                = 0

# How to indent the content of classes, structs, etc.
indent_class                    = true

# Indent inside braces
indent_brace                    = 0

# Indent switch case statements (matches --indentcase false)
indent_switch_case              = 0

# Indent code inside ObjC class and category interfaces
indent_oc_block                 = true

# Indent inside ObjC blocks
indent_oc_block_msg             = 0

# Indent ObjC message colon alignment
indent_oc_msg_colon             = 0

# Whether to align ObjC message colons
indent_align_oc_msg_colon       = true

# Indent preprocessor #if/#else/#endif
indent_paren_close              = 0

# -----------------------------------------------------------------------------
# Brace Style (matches --allman false - K&R/One True Brace Style)
# -----------------------------------------------------------------------------

# Opening brace position for functions (force = same line)
nl_fdef_brace                   = remove

# Opening brace position for classes/structs
nl_class_brace                  = remove

# Opening brace position for if statements
nl_if_brace                     = remove

# Opening brace position for else
nl_brace_else                   = remove
nl_else_brace                   = remove

# Opening brace position for else if
nl_elseif_brace                 = remove

# Opening brace position for for loops
nl_for_brace                    = remove

# Opening brace position for while loops
nl_while_brace                  = remove

# Opening brace position for do-while
nl_do_brace                     = remove
nl_brace_while                  = remove

# Opening brace position for switch
nl_switch_brace                 = remove

# Opening brace position for try/catch
nl_try_brace                    = remove
nl_brace_catch                  = remove
nl_catch_brace                  = remove
nl_brace_finally                = remove
nl_finally_brace                = remove

# ObjC specific brace handling
nl_oc_interface_brace           = remove

# -----------------------------------------------------------------------------
# Else Position (matches --elseposition same-line, --guardelse same-line)
# -----------------------------------------------------------------------------

# Force else on same line as closing brace
nl_brace_else                   = remove
nl_else_brace                   = remove

# -----------------------------------------------------------------------------
# Spacing Around Operators (matches --operatorfunc spaced, --ranges spaced)
# -----------------------------------------------------------------------------

# Space around arithmetic operators
sp_arith                        = add

# Space around assignment operators
sp_assign                       = add

# Space around comparison operators
sp_compare                      = add

# Space around boolean operators
sp_bool                         = add

# Space around ternary colon
sp_cond_colon                   = add

# Space around ternary question mark
sp_cond_question                = add

# Space after comma (matches --commas always behavior)
sp_after_comma                  = add
sp_before_comma                 = remove

# -----------------------------------------------------------------------------
# Brace Spacing (matches --emptybraces no-space)
# -----------------------------------------------------------------------------

# No space inside empty braces
sp_inside_braces_empty          = remove

# Space inside braces
sp_inside_braces                = add

# Space inside empty function braces
sp_inside_braces_struct         = add

# -----------------------------------------------------------------------------
# Parentheses Spacing
# -----------------------------------------------------------------------------

# Space inside parentheses
sp_inside_paren                 = remove

# Space inside function call parentheses
sp_inside_fparen                = remove

# Space inside function definition parentheses
sp_inside_fparens               = remove

# Space before opening parenthesis of function call
sp_func_call_paren              = remove

# Space before opening parenthesis of function definition
sp_func_def_paren               = remove

# Space before opening parenthesis of function declaration
sp_func_proto_paren             = remove

# Space after control statements (if, for, while, switch)
sp_before_sparen                = add
sp_inside_sparen                = remove
sp_after_sparen                 = add

# -----------------------------------------------------------------------------
# Pointer and Reference Alignment
# -----------------------------------------------------------------------------

# Align pointer (*) with type
sp_before_ptr_star              = remove
sp_after_ptr_star               = add

# For Objective-C, pointer should be with the type
sp_before_ptr_star_func         = remove
sp_after_ptr_star_func          = add

# -----------------------------------------------------------------------------
# ObjC Specific Settings
# -----------------------------------------------------------------------------

# Space after ObjC message colon
sp_after_oc_colon               = remove

# Space before ObjC message colon
sp_before_oc_colon              = remove

# Space after ObjC at (@) sign
sp_after_oc_at_sel              = remove

# Space after ObjC cast
sp_after_oc_return_type         = remove

# Space in ObjC block caret
sp_after_oc_block_caret         = remove

# Space in ObjC dictionary/array literals
sp_inside_oc_braces             = force

# Align ObjC message colons
align_oc_msg_colon_span         = 1
align_oc_msg_colon_first        = true

# Add space after ObjC scope (+/-)
sp_after_oc_scope               = add

# Space after ObjC type in parentheses
sp_after_oc_type                = remove

# Space in ObjC protocol list
sp_before_oc_proto_list         = remove
sp_inside_oc_protocol           = remove

# -----------------------------------------------------------------------------
# Blank Lines (matches various mark/organization settings)
# -----------------------------------------------------------------------------

# Blank lines after function body
nl_after_func_body              = 2

# Blank lines after function prototype
nl_after_func_proto             = 0

# Blank lines between blocks of code
nl_before_block_comment         = 2

# Blank lines after preprocessor includes
nl_after_pp_include             = 2

# Maximum consecutive blank lines
nl_max                          = 2

# Blank lines at start of file
nl_start_of_file                = remove

# Blank lines at end of file
nl_end_of_file                  = add
nl_end_of_file_min              = 1

# -----------------------------------------------------------------------------
# Whitespace Trimming (matches --trimwhitespace always)
# -----------------------------------------------------------------------------

# Remove trailing whitespace
sp_before_nl_cont               = remove

# -----------------------------------------------------------------------------
# Code Alignment
# -----------------------------------------------------------------------------

# Align assignments
align_assign_span               = 0

# Align enum assignments
align_enum_equ_span             = 0

# Align struct/class member assignments
align_struct_init_span          = 0

# Align variable definitions
align_var_def_span              = 0

# Align typedefs
align_typedef_span              = 0

# Align on tabstop
align_on_tabstop                = false

# -----------------------------------------------------------------------------
# Comments
# -----------------------------------------------------------------------------

# Space after // comment start
sp_cmt_cpp_start                = add

# Don't change C-style comments to C++ style
cmt_c_nl_start                  = false
cmt_c_nl_end                    = false

# Indent comments with code
cmt_indent_multi                = true

# -----------------------------------------------------------------------------
# Preprocessor
# -----------------------------------------------------------------------------

# Indent preprocessor statements
pp_indent                       = remove

# Indent #if inside
pp_indent_if                    = 0

# Space after # in preprocessor
pp_space                        = remove

# -----------------------------------------------------------------------------
# Sorting and Organization
# -----------------------------------------------------------------------------
# Note: Uncrustify doesn't have built-in import sorting like SwiftFormat's
# --importgrouping alpha. Use a separate tool or IDE feature for this.

# -----------------------------------------------------------------------------
# Line Length (matches --maxwidth none)
# -----------------------------------------------------------------------------
# No maximum line width enforced
code_width                      = 0

# -----------------------------------------------------------------------------
# Other Settings
# -----------------------------------------------------------------------------

# Output tab size (for alignment calculations)
output_tab_size                 = 2

# Input tab size
input_tab_size                  = 2

# UTF-8 output
utf8_force                      = true
utf8_bom                        = remove

# Eat blanks before close brace
eat_blanks_before_close_brace   = true

# Eat blanks after open brace
eat_blanks_after_open_brace     = true
